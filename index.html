<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Family Photos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
   <link rel="stylesheet" type="text/css" href="css/styles.css">
   <link rel="stylesheet" type="text/css" href="css/spinner.css">
</head>
<body data-bind="css: appStatus ">
<div class="w3-container">
<div class="loading-overlay">
<div class="spinner">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
</div>
</div>
<div class="controls w3-container">
  <div class="w3-small">
    <ul data-bind="foreach: groupList">
      <li class="group" data-bind="text: groupDisplay, css: {expanded: expanded}, click: toggleExpand"></li>
      <div data-bind="visible: expanded">
        <ul data-bind="foreach: tags" class="tags">
          <li class="tag" data-bind="visible: count() > 0, css: {selected: selected}"><a href="#" data-bind="text: keywordWithCount, attr: {href: hash}" class="keyword"></a>&nbsp;<a data-bind="click: $parent.resetFilter" href="#" class="reset w3-text-dark-grey w3-hover-text-red">x</a></li>
        </ul>
      </div>
    </ul>
  </div>
</div>
<div>

  <!-- Grid of thumbnails -->
  <div class="thumbnails w3-container">
    <!-- ko foreach: showPhotos -->
    <div class="thumbnail-wrapper">
        <div data-bind="css: orientation" class="thumbnail w3-hover-shadow w3-border w3-padding-small w3-margin-top w3-hover-opacity">
          <a data-bind="attr: {href: $parent.photoHash(FileName)}"><img data-bind="attr: {src: thumbnail }"></a>
          <div data-bind="text: FileName" class="w3-small w3-center"></div>
        </div>
    </div>
    <!-- /ko -->
    
    <!-- placeholders for last row of thumbnails to left align -->
    <div class="thumbnail-empty"></div>
    <div class="thumbnail-empty"></div>
    <div class="thumbnail-empty"></div>
    <div class="thumbnail-empty"></div>
    <div class="thumbnail-empty"></div>
    <div class="thumbnail-empty"></div>
    
    
    <!-- pagination controls -->
    <div data-bind="visible: showPagination" class="pagination w3-center">
      <ul class="w3-pagination w3-xlarge">
      
        <li><a href="#" data-bind="attr: { href: previousHash }, click: cancelPrevPage, css: {disabled: showPage() == 1}">&laquo;</a></li>

        
        <!-- ko foreach: pages() -->
          <!-- ko if: inPageRange -->
          <li ><a data-bind="text: pageNum, css: {'w3-green': pageNum == $root.showPage()}, attr: {href: $parent.hash() + '/' + pageNum }" href="#"></a></li>
          <!-- /ko -->
          <!-- ko ifnot: inPageRange -->
          <li data-bind="ifnot: inPageRange" class="missing">&hellip;</li>
          <!-- /ko -->
        <!-- /ko -->
        
        <li><a href="#" data-bind="attr: { href: nextHash }, click: cancelNextPage, css: {disabled: showPage() == totalPages()}">&raquo;</a></li>

      </ul>
    </div>
  </div>
  
  
  <!-- open photo modal view -->
  <div id="photo-modal" data-bind="style: { display: photoSelected() ? 'block' : 'none' }" class="w3-modal">
    <div data-bind="with: selectedPhoto" class="w3-modal-content w3-animate-zoom w3-row" style="background: none; width: 100%; height: 100%;">
 
      <span data-bind="visible: !dataChanged(), click: $parent.closePhoto" class="w3-closebtn w3-hover-red w3-text-white w3-xxlarge w3-container w3-padding-16 w3-display-topright" style="z-index:1">&times;</span>
 
 
      <div id="photo-view">
        <!-- ko if: !dataChanged() -->
          <a data-bind="attr: {href: $parent.previousPhotoHash()}, visible: !$parent.firstPhoto()" class="w3-btn-floating w3-black w3-hover-white" style="position:absolute;top:45%;left:5%">&#10094;</a>
          <a data-bind="attr: {href: $parent.nextPhotoHash()}, visible: !$parent.lastPhoto()" class="w3-btn-floating w3-black w3-hover-white" style="position:absolute;top:45%;right:5%">&#10095;</a>
        <!-- /ko -->
        <img data-bind="attr: {src: photoURL}, css: orientation" src="" alt="" class="w3-card-24">
      </div>
    
      <div id="metadata" class="w3-padding-left w3-black">
        <p>
            <label for="filename" class="w3-label">File Name</label>
            <div data-bind="text: FileName" type="text" class="w3-input w3-black"></div>
        </p>
        <p>
            <label for="title" class="w3-label">Title</label>
            <input id="title" data-bind="textInput: editData().Title" type="text" class="w3-input w3-black">
        </p>
        <p>
            <label class="w3-label" for="description">Description</label>
            <textarea id="description" type="text" data-bind="textInput: editData().Description, style: { height: descriptionLines() + 'em' }" class="w3-input w3-black"></textarea>
        </p>
        <p>
            <label for="keywords" class="w3-label">Tags</label>
            <div class="w3-row">
              <div class="w3-third">
                <select id="keyword-group" type="text" class="w3-select w3-black w3-border-0" data-bind="options: $root.groupList, optionsText: 'groupDisplay', value: groupSelected">
                </select>
              </div>
              <div class="w3-rest w3-margin-left">
                <input id="keywords" data-bind="textInput: enteredKeyword, event: {keypress: keywordEntered, blur: addKeyword}" type="text" class="w3-input w3-black">
              </div>
            </div>
            
            <div data-bind="foreach: editData().Keywords" class="w3-container w3-padding-tiny w3-margin-top">
              <span data-bind="text: keyword, click: $parent.removeKeyword" class="keyword w3-tag w3-teal w3-padding-small w3-margin-bottom w3-round w3-hover-red"></span>
            </div>	
        </p>
        <p data-bind="visible: dataChanged">
          <button data-bind="click: $parent.save" class="w3-btn w3-white w3-hover-teal">Save</button>
          <button data-bind="click: $parent.cancel" class="w3-btn w3-white w3-hover-red">Cancel</button>
        </p>
      </div>
    </div>
  </div>
  
</div><!--// w3-container -->
</div><!--// w3-row -->




    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="js/lib/sammy.js" type="text/javascript"></script>
    <script src="js/lib/knockout-3.4.0.js"></script>
    <script src="js/helpers.js"></script>
    <script src="js/bindings.js"></script>
    <script src="js/app.js"></script>
</body>
</html>